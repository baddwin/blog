<!doctype html><html lang=id>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta content name=keywords>
<meta content="Aryo Sr." name=author>
<meta property="og:title" content="Modul Shipping Ongkir Indonesia untuk Magento 2 - Aryo Sr. Blog">
<meta property="og:url" content="https://aryosr.me/blog/2019/07/modul-shipping-ongkir-indonesia-untuk-magento-2/">
<meta property="og:description" content="Blog untuk kode">
<meta property="og:type" content="website">
<title>Modul Shipping Ongkir Indonesia untuk Magento 2 | Aryo Sr. Blog</title>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<link rel=stylesheet href=https://aryosr.me/blog//css/style.css>
<link rel="shortcut icon" href=https://aryosr.me/blog//favicon.ico>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin=anonymous>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css>
</head>
<body>
<section class=section>
<div class=container>
<nav class=nav>
<div class=nav-left>
<a class=nav-item href=https://aryosr.me/blog/><h1 class="title is-4">Aryo Sr. Blog</h1></a>
</div>
<div class=nav-right>
<nav class="nav-item level is-mobile">
<a class=level-item href=https://github.com/baddwin target=_blank>
<span class=icon>
<i class="fa fa-github"></i>
</span>
</a>
<a class=level-item href=https://bit.ly/baddwin target=_blank>
<span class=icon>
<i class="fa fa-linkedin"></i>
</span>
</a>
<a class=level-item href=https://www.last.fm/user/baddwin target=_blank>
<span class=icon>
<i class="fa fa-lastfm"></i>
</span>
</a>
</nav>
</div>
</nav>
</div>
</section>
<section class=section>
<div class=container>
<h1 class=title>Modul Shipping Ongkir Indonesia untuk Magento 2</h1>
<h2 class="subtitle is-5">July 10, 2019 by Aryo Sr.</h2>
<div class=tags>
<a class="button is-link" href=/blog/tags/magento>magento</a>
<a class="button is-link" href=/blog/tags/e-commerce>e-commerce</a>
<a class="button is-link" href=/blog/tags/ongkir>ongkir</a>
<a class="button is-link" href=/blog/tags/web>web</a>
</div>
<div class=content>
<p>Project pertama saya dengan Magento adalah membuat modul/<em>extension</em>
ongkir (ongkos kirim) Indonesia untuk Magento 2. Modul ini mengambil data
dari <a href=http://rajaongkir.com>RajaOngkir</a> yang menyediakan API cek ongkir dan <em>tracking</em>
jasa kurir dan ekspedisi yang ada di Indonesia,
termasuk JNE, J&T, Tiki, Pos, SiCepat, dll.</p>
<p>Waktu itu belum ada <em>free extension</em> (gratis) Magento untuk ongkir Indonesia.
Oleh karena itulah saya di-<em>hire</em> untuk mengerjakannya.
Atas dasar itu pula saya mencoba membuat module yang <em>free</em> dan <em>open source</em>.
Dengan modul ongkir ini, website Magento kita dapat menghitung
ongkir barang berdasarkan kurir yang ada di Indonesia.</p>
<p>Modul ini mirip dengan kode project pertama dulu, yaitu menggunakan API RajaOngkir.
Modul ini merupakan <em>rewrite</em> yang berbeda total, karena tentunya ada NDA<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> dengah perusahaan.
Tetapi ini bukan modul yang saya kerjakan di project tersebut.
Untuk saat ini kodenya tidak bisa saya <em>share</em> secara <del>gratis</del> publik.
Kode yang saya <em>share</em> di Github<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> adalah fungsi minimum sebuah modul metode pengiriman di Magento 2.</p>
<p>Cuplikan kode:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#e6db74>/**
</span><span style=color:#e6db74>     * @param RateRequest $request
</span><span style=color:#e6db74>     * @return \Magento\Shipping\Model\Rate\Result|bool
</span><span style=color:#e6db74>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>collectRates</span>(<span style=color:#a6e22e>RateRequest</span> $request)
    {
        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>$this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getConfigFlag</span>(<span style=color:#e6db74>&#39;active&#39;</span>)) {
            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
        }
        <span style=color:#e6db74>/** @var \Magento\Shipping\Model\Rate\Result $result */</span>
        $result <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>_rateResultFactory</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>create</span>();
        $method <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>generateMethods</span>(<span style=color:#e6db74>&#39;REG&#39;</span>, <span style=color:#ae81ff>10000</span>, <span style=color:#e6db74>&#39;JNE&#39;</span>);
        $result<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>append</span>($method);
        <span style=color:#66d9ef>return</span> $result;
    }
    <span style=color:#e6db74>/**
</span><span style=color:#e6db74>     * @return array
</span><span style=color:#e6db74>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getAllowedMethods</span>()
    {
        <span style=color:#66d9ef>return</span> [$this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>_code</span> <span style=color:#f92672>=&gt;</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getConfigData</span>(<span style=color:#e6db74>&#39;name&#39;</span>)];
    }
    <span style=color:#e6db74>/**
</span><span style=color:#e6db74>     * @return \Magento\Quote\Model\Quote\Address\RateResult\Method
</span><span style=color:#e6db74>     */</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>generateMethods</span>($service, $price, $courier)
    {
        $method <span style=color:#f92672>=</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>_rateMethodFactory</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>create</span>();
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setCarrier</span>($this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>_code</span>);
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setCarrierTitle</span>($courier);
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setMethod</span>($this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>_code</span>);
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setMethodTitle</span>($service);
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setPrice</span>($price);
        $method<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>setCost</span>($price);
        <span style=color:#66d9ef>return</span> $method;
    }
}
</code></pre></div><p>Kode modul tersebut merupakan hasil <em>generate</em> dari
<a href=https://cedcommerce.com/magento-2-module-creator/shipping-module>sini</a>.</p>
<p>Contoh <em>live</em> di website:</p>
<p><img src=/blog/img/2019/07/ongkir.png alt="screenshot ongkir"></p>
<p>Untuk mendapatkan kode yang lebih fungsional dan
disesuaikan dengan project <em>e-commerce</em> Anda,
silakan hubungi saya melalui link akun medsos ada di atas blog. :)</p>
<p>Atau jika Anda merupakan perwakilan dari perusahaan, saya lebih menyarankan
untuk menggunakan API dari Shipper<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> yang lebih lengkap dan reliabel.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p>Non-disclosure Agreement&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:2 role=doc-endnote>
<p><a href=https://github.com/FalahDev/magento2-ongkir>https://github.com/FalahDev/magento2-ongkir</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
<li id=fn:3 role=doc-endnote>
<p><a href=https://shipper.id>https://shipper.id</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<div class=nav-left>
<a class=nav-item href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2faryosr.me%2fblog%2f2019%2f07%2fmodul-shipping-ongkir-indonesia-untuk-magento-2%2f" title="Share on Facebook" target=_blank><span class="fa fa-facebook fa-2x" aria-hidden=true></span></a>
<a class=nav-item href="https://plus.google.com/share?url=https%3a%2f%2faryosr.me%2fblog%2f2019%2f07%2fmodul-shipping-ongkir-indonesia-untuk-magento-2%2f" title="Share on Google+" target=_blank><span class="fa fa-google-plus fa-2x" aria-hidden=true></span></a>
<a class=nav-item href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2faryosr.me%2fblog%2f2019%2f07%2fmodul-shipping-ongkir-indonesia-untuk-magento-2%2f" title="Share on LinkedIn" target=_blank><span class="fa fa-linkedin fa-2x" aria-hidden=true></span></a>
<a class=nav-item href="https://twitter.com/home?status=Modul%20Shipping%20Ongkir%20Indonesia%20untuk%20Magento%202 - https%3a%2f%2faryosr.me%2fblog%2f2019%2f07%2fmodul-shipping-ongkir-indonesia-untuk-magento-2%2f" title="Tweet this" target=_blank><span class="fa fa-twitter fa-2x"></span></a>
<a class=nav-item href="http://www.reddit.com/submit?url=https%3a%2f%2faryosr.me%2fblog%2f2019%2f07%2fmodul-shipping-ongkir-indonesia-untuk-magento-2%2f&title=Modul%20Shipping%20Ongkir%20Indonesia%20untuk%20Magento%202" title="Share on Reddit" target=_blank><span class="fa fa-reddit-alien fa-2x" aria-hidden=true></span></a>
</div>
</div>
</section>
<section class=section>
<div class=container>
<aside><div id=disqus_thread></div></aside>
<script type=text/javascript>var disqus_shortname='codebadwi';(function(){var a=document.createElement('script');a.type='text/javascript',a.async=!0,a.src='//'+disqus_shortname+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript>
</div>
</section>
<section class=section>
<div class="container has-text-centered">
<p>&copy; 2017 | <a href=https://github.com/mgjohansen/hucore.git target=_blank>Hucore theme</a> & <a href=http://gohugo.io target=_blank>Hugo</a> â™¥</p>
</div>
</section>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js integrity="sha256-+bhVTaRmJ/c07eV80nU8gD2cBBF0rYkf1txqXlrbvb0=" crossorigin=anonymous></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/go.min.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/dockerfile.min.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/php.min.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js></script>
<script>hljs.initHighlightingOnLoad()</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-36990012-6','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</body>